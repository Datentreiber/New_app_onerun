version: 2
id: "urban_built"
title: "Städtische Bebauung im Zeitverlauf"
purpose: "Ausmaß der bebauten Fläche über Jahre vergleichen."

param_spec:
  required:
    - id: aoi_spec
      type: object
      variants:
        - { type: "bbox", bbox: [0, 0, 0, 0] }
        - { type: "point_buffer", point: [0, 0], radius_km: 0 }
        - { type: "place", name: "", radius_km: 0 }
      ask_policy: "always"
  optional:
    - id: left_year
      type: int
      range: [1980, 2030]
      default: 1980
      ask_policy: "prefer"
    - id: right_year
      type: int
      range: [1980, 2030]
      default: 2025
      ask_policy: "prefer"

ui_widgets_library:
  year_slider_int: "blocks/components/ui/slider_int.py"
  year_number_input: "blocks/components/ui/number_input_int.py"

invariants:
  dataset: "GHSL Built Surface (JRC)"
  band: "built_surface"

visualize_presets:
  - id: "ghsl_default"
    vis_params:
      min: 0
      max: 10000
      palette: ["#f7fbff","#c6dbef","#6baed6","#2171b5"]
      opacity: 0.6

allowed_patterns:
  - "Scaffold → Acquire → Visualize → Render"

capabilities_required: ["aoi"]
capabilities_provided: ["split_map","single_map","multi_layer"]

ui_contracts:
  variables_map: {}

render_pattern: "split_map_right"

checks:
  - "Falls Jahr nicht verfügbar: Hinweis und Auswahl einschränken."

few_shot_components:
  - "blocks/components/gee/aoi_from_spec.py"
  - "blocks/components/visual/split_map_right.py"
  - "blocks/components/ui/slider_int.py"
  - "blocks/components/ui/number_input_int.py"
